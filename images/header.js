function headerFunction(){ var actions = { firstPixelIsBlack:false, swapAt:[83,85,145,147,204,209,212,216,219,223,227,232,265,267,268,271,274,276,280,282,283,286,289,291,292,294,327,329,331,333,336,338,342,344,346,348,351,353,355,357,389,391,393,395,398,400,404,406,408,410,413,415,417,419,451,453,454,457,460,462,466,468,469,472,475,477,478,480,514,519,522,524,529,533,537,542,599,601,632,634,661,663,756,758,761,769,773,778,782,787,791,795,818,820,823,825,826,828,829,831,834,837,838,840,843,845,846,849,852,854,855,858,880,882,885,887,888,890,892,893,897,902,905,907,909,911,914,920,942,944,947,949,950,952,954,955,958,964,967,969,971,973,976,978,1004,1006,1009,1011,1012,1014,1016,1017,1020,1022,1024,1026,1029,1031,1032,1035,1038,1040,1041,1044,1066,1068,1071,1073,1074,1076,1078,1079,1083,1088,1092,1097,1101,1105,1157,1159,1195,1197,1215,1220,1257,1259,1319,1324,1328,1333,1336,1340,1343,1348,1381,1383,1384,1387,1390,1392,1393,1395,1398,1401,1405,1407,1408,1410,1443,1445,1447,1449,1451,1458,1460,1462,1466,1473,1505,1507,1509,1511,1513,1515,1522,1524,1528,1530,1567,1569,1571,1573,1576,1578,1579,1581,1584,1586,1591,1593,1594,1596,1629,1631,1633,1635,1638,1643,1646,1648,1653,1658] }, cells = document.querySelectorAll('.PixelCoverPhoto .Cell'), options = { 'view': window, 'bubbles': true, 'cancelable': true }, enter = new MouseEvent('mouseenter', options), down = new MouseEvent('mousedown', options), up = new MouseEvent('mouseup', options); function swapPixel(cell) { cell.dispatchEvent(enter); cell.dispatchEvent(down); cell.dispatchEvent(up); } function updateHeaderPhoto(){ var colorIsBlack = actions.firstPixelIsBlack; for(var i = 0; i < cells.length-1;i++){ if(colorIsBlack) swapPixel(cells[i]); if(i === actions.swapAt[0]){ actions.swapAt.shift(); colorIsBlack = !colorIsBlack; } } } function resetHeaderPhoto(){ for(var i = 0; i < cells.length-1;i++){ if(cells[i].style.backgroundColor.indexOf('0') > -1) { swapPixel(cells[i]); } } } resetHeaderPhoto(); updateHeaderPhoto(); }